# Stock-Price-Path-Simulator
## Description

This is a python program that simulates the price paths of the stock under the assumption that stocks' prices follow **Geometric Brownian Motion** process (GBM). GBM is a continuous-
time stochastic  process that assumes log-normally distributed prices, constant drift ($\mu$) and volatility ($\sigma$) and a memoryless path, meaning that the price at the next time 
increment depends only on current price.

## Formulas Used

The stock price $S_t$ is assumed to follow Geometric Brownian Motion (GBM):  

$dS_t = \mu S_t dt +\sigma S_t dW_t$

where:
- $\mu$ - constant drift
- $\sigma\$ - constant volatility of the stock log returns
- $W_t$ - standard Brownian motion

The analytical solution of this stochastic differential equation is:  

$S_t = S_0 \exp((\mu - \tfrac{1}{2}\sigma^2)+\sigma W_t)$

The discretized form of the above equation, used in this program, is:  

$\log S_{t+\Delta t} = \log S_t + \left(\mu - \tfrac{1}{2}\sigma^2\right)\Delta t + \sigma \sqrt{\Delta t}\ Z$

where:
- $\Delta t = \frac{T}{N}$
- $N = \max(1, T*252)$
- $Z \sim \mathcal{N}(0,1)$

## Monte Carlo Simulation

For a given number of simulated paths n (provided by the user), the algorithm:
1. Generates independent standard normal random variables
2. Simulates log-price paths
3. Exponentiaties to obtain back the prices
4. Analyzes the distribution of of terminal prices $S_T$  

The theoretical expected terminal price under GBM is:  

$\mathbb{E}[S_T] = S_{0} e^{\mu T} $

This value is used as a sanity check against the average of the terminal stock prices generated by the Monte Carlo simulation.

## Quantile and Interval Analysis

From the simulated terminal prices $S_T$ the following statistics are computed:
- 1%, 5%, 95%, and 99% empirical quantiles
- Central 95% and 99% percentile intervals:
  - 95%: [2.5%, 97.5%]
  - 99%: [0.5%, 99.5%]

## Market Data Estimation

When using market data:
- Daily log-returns are computed from historical closing prices
- Drift $\mu$ is estimated as the mean daily log-return (1 year history)
- Volatility $\sigma\$ is estimated as the standard deviation of log-returns (1 year history)

## Usage Instructions
1. Install the required packages as per the below:
```bash
pip install yfinance pandas numpy matplotlib
```

2. Run the program:
```bash
python stock_path.py
```

3. Once the program is initiated, the user is prompted for the following inputs:
- **State your input preference (either manual or market data):** manual or market
- **If market was selected, Input ticker of the stock whose price path you wish to simulate:** any stock ticker supported by the yahoo finance library
- **Input the timeline in years (ex.: 1 or 0.5) for stock's price path simulation:** any reasonable integer/float value
- **Input the number of stock price paths simulations as an integer:** any reasonable integer value (<= 10,000 is recommended)
- **If manual input was selected, the user is asked to manually input parametres $S_0, \mu, \sigma, T, n$**

4. After inputs are provided, the program will output:
- A plot of simulated GBM price paths
- A histogram of terminal prices with tail quantiles marked
- Printed summary statistics:
    - simulated mean terminal price
    - theoretical expected price
    - 95% and 99% percentile intervals

## Example Session (as of 31.01.2026)
```text
INPUT:
------------------------------------------------------------
python stock_path.py
State your input preference (either manual or market data): market
Input ticker of the stock whose price path you wish to simulate: AAPL
Input the timeline in years (ex.: 1 or 0.5) for stock's price path simulation: 0.5
Input the number of stock price paths simulations as an integer: 100
------------------------------------------------------------
OUTPUT:
------------------------------------------------------------
Current stock price is 259.48
------------------------------------------------------------
Average terminal simulated stock price is 276.47219
------------------------------------------------------------
Expected terminal stock price is: 272.80501

Confidence intervals for S_T (Monte Carlo percentiles):
  95% interval [2.5%, 97.5%]: [182.5937, 408.4001]
  99% interval [0.5%, 99.5%]: [171.2569, 435.0061]
```
<img width="640" height="480" alt="Figure_1" src="https://github.com/user-attachments/assets/9b9f16a3-cbfe-45ad-b8d0-4c704936a51e" />

<img width="640" height="480" alt="Figure_2" src="https://github.com/user-attachments/assets/eca8ca29-1ac6-4bff-a39e-cbd88a5de57b" />


## Limitations
- Constant drift and volatility
- Absence of jumps and stochastic volatility
- Assumption of normal distribution of log-returns 
